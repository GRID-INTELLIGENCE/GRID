version: "1.0"
title: "Remediation Task Schema"
description: "Schema for safety remediation tasks generated by rule/trigger-based protocol."
type: object
required:
  - task_id
  - trigger_id
  - severity
  - detected_at
  - source_title
  - source_url
  - summary
  - recommended_actions
  - owner
  - due_date
  - status
properties:
  task_id:
    type: string
    description: "Unique remediation task identifier."
  trigger_id:
    type: string
    description: "Trigger or rule identifier that created this task."
  severity:
    type: string
    enum: [info, warning, high, critical]
    description: "Severity level associated with the task."
  detected_at:
    type: string
    description: "UTC timestamp when the trigger fired."
  source_title:
    type: string
    description: "Title of the source that triggered the task."
  source_url:
    type: string
    description: "URL to the source or evidence."
  summary:
    type: string
    description: "Short summary of the issue and why it matters."
  taxonomy_categories:
    type: array
    items:
      type: string
    description: "Safety taxonomy categories impacted."
  evidence:
    type: object
    description: "Evidence details supporting the task."
    required:
      - excerpt
      - location
    properties:
      excerpt:
        type: string
      location:
        type: string
  recommended_actions:
    type: array
    items:
      type: string
    description: "Actionable remediation steps."
  owner:
    type: object
    description: "Assigned owner for the task."
    required:
      - name
      - team
    properties:
      name:
        type: string
      team:
        type: string
      email:
        type: string
  due_date:
    type: string
    description: "Due date for remediation completion (YYYY-MM-DD)."
  status:
    type: string
    enum: [open, in_progress, blocked, completed, dismissed]
  last_updated:
    type: string
    description: "UTC timestamp of last update."
  notes:
    type: string
    description: "Additional context or reviewer notes."
  audit:
    type: object
    description: "Audit metadata."
    required:
      - created_by
      - created_at
    properties:
      created_by:
        type: string
      created_at:
        type: string
      updated_by:
        type: string
      updated_at:
        type: string
