# GRID restore execution notes

## Done (execution)

- **Git identity**: `user.name=caraxesthebloodwyrm02`, `user.email=caraxesthebloodwyrm02@gmail.com` (global). Commits and pushes will attribute correctly.
- **Clone**: Full repo cloned from **caraxesthebloodwyrm02/GRID** to `E:\_projects\GRID`.
- **Remotes**:
  - `origin` → https://github.com/caraxesthebloodwyrm02/GRID.git (push/pull)
  - `origin_irfan` → https://github.com/irfankabir02/GRID.git (recovery / history)
- **Latest commit**: `c9d1308 docs: add Git and branch best practices (main as source of truth, merge strategy, hygiene)`

## E:\ layout (project grid)

- **E:\grid** — junction → `E:\_projects\GRID` (main repo; full Git, origin = caraxesthebloodwyrm02/GRID, origin_irfan = irfankabir02/GRID). Verified 2026-02-07.
- **E:\mothership** — junction → `E:\_projects\GRID\src\application\mothership` (Mothership API inside grid).
- **E:\SSL**, **E:\coinbase**, **E:\wellness_studio** — present on E:\ (restore from `E:\Storage\Selected-Dirs-Backup-*` if needed).
- **E:\analysis_output** — created; empty (restore from USB or recreate as needed).
- **E:\tests**, **E:\docs** — present on E:\ (grid also has `E:\grid\tests`, `E:\grid\docs`).

## Best restoration bet (from plan)

- **OneDrive**: Version history (right-click → Version history) and Recycle bin for files under `C:\Users\irfan\OneDrive`. Use to recover any missing files.
- **Git**: This clone + `origin_irfan` (irfankabir02/GRID) for full history. Fetch from both: `git fetch origin`, `git fetch origin_irfan`; merge or compare branches as needed.

## OneDrive Git tracking and older syncs

- **Report**: Git repos under OneDrive are listed in `E:\_projects\OneDrive_git_repos_report.txt` (generated by `E:\scripts\track_onedrive_git_repos.ps1`). Re-run the script to refresh.

### Check older syncs via OneDrive version history (manual)

1. Open the report and note each **Repo path** (e.g. `C:\Users\irfan\OneDrive\Documents\GitHub\Python`).
2. In **File Explorer**, go to that folder (or a key file inside it, e.g. `README.md` or `.git\config`).
3. **Right-click** the folder or file → **Version history** (or **OneDrive** → **View version history**).
4. Compare **version dates** in the Version history pane with **Git commit dates** from the report (or run `git -C "<repo-path>" log --format="%ci %s" -10` to see recent commits).
5. To restore an older state: in Version history, select the version you want and click **Restore** (or **Open** to view first).

### Correlate OneDrive versions with Git commits

- OneDrive typically keeps versions for about **30 days**. Match version timestamps to `git log --format="%ci %s"` for that repo to see which "older sync" aligns with which commit.
- If you restore an older file version from OneDrive, run `git status` and `git diff` in that repo to see how it differs from the current working tree or last commit.

### OneDrive Recycle bin (check for deleted repos)

- **In File Explorer**: Open **OneDrive** (in the left pane or This PC), then open **Recycle bin** for OneDrive.
- **On the web**: Go to [onedrive.live.com](https://onedrive.live.com) → **Recycle bin** in the left sidebar.
- Look for deleted folders that look like repos (e.g. **GRID**, **Python**, or any folder that might have contained a `.git` directory). Restore any that match your projects to recover "older syncs" that were deleted.
- After restoring, re-run `E:\scripts\track_onedrive_git_repos.ps1` to include them in the report.

## USB / backup location (restore plan)

- **E: backup zip**: `E:\Storage\E-Drive-Backup-20260206-174528.zip` (and extracted folder). Partial backup (config, docs, scripts); no `.git` repo found inside. For full Delorean USB zip, plug in USB and search for zip containing `E\grid\.git` or `.git\config` with caraxesthebloodwyrm02.
- **Working repo**: E:\grid → E:\_projects\GRID (clone from caraxesthebloodwyrm02/GRID); origin + origin_irfan configured.

## Test suite (post-restore)

- **Run**: From repo root: `uv run pytest tests/` (or `E:\grid` via junction). `pyproject.toml` sets `pythonpath = ["src"]`, so no extra env needed.
- **Result (2026-02-07 verification)**:
  - **test_ollama.py**: No longer exits at import; uses lazy check and `@pytest.mark.skipif` when Ollama is not at localhost:11434.
  - **Collection**: Full `uv run pytest tests/ --collect-only` collects 1418+ tests with 88 module collection errors (various integration/security/ai_safety modules). `grid.skills.execution_tracker` resolves when `src` is on path (execution_tracker.py exists under src/grid/skills/).
  - **Subset (recommended for quick run)**: `uv run pytest tests/unit/test_smoke.py tests/unit/test_api_docs.py tests/unit/navigation/` → **105 tests collected**; run without `--collect-only` for 22 passed, 83 skipped (or similar). Fix remaining import/deps in the 88 failing modules to run the full 1400+ suite.

## Next steps

1. Fix test collection: add/restore `grid.skills.execution_tracker` (or update mothership/skills imports); make Ollama check lazy or optional in `test_ollama.py`.
2. If you have the Delorean USB zip, search it for `E\grid\.git` or `.git\config` (caraxesthebloodwyrm02) and extract any missing content into this repo or merge commits.
3. Push to `origin` when ready: `git push -u origin main`.
