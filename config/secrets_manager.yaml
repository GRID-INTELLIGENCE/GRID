# Secrets Manager Configuration

provider:
  # GCP Secret Manager for production
  type: "gcp"

  # Fallback to environment if cloud unavailable
  allow_fallback: false
  fallback_environment: "development"

gcp:
  project_id: ""  # Set via GOOGLE_CLOUD_PROJECT environment variable
  # Secret name prefix for GRID
  prefix: "grid-production-"

  # Automatic secret rotation
  rotation_enabled: true
  rotation_days: 90

# GCP Secret Names
secret_names:
  # Mothership API
  mothership_secret_key: "grid-production-mothership-secret-key"
  mothership_api_key: "grid-production-mothership-api-key"

  # Payment Gateways
  stripe_secret_key: "grid-production-stripe-secret-key"
  stripe_webhook_secret: "grid-production-stripe-webhook-secret"

  # External APIs
  mistral_api_key: "grid-production-mistral-api-key"
  gemini_api_key: "grid-production-gemini-api-key"
  openai_api_key: "grid-production-openai-api-key"

  # Database
  postgres_password: "grid-production-postgres-password"
  redis_password: "grid-production-redis-password"

  # Wealth Management (encrypted at rest in cloud)
  wealth_vault_key: "grid-production-wealth-vault-encryption-key"
  wealth_encryption_key: "grid-production-wealth-data-encryption"

validation:
  # Enforce minimum secret length
  min_length: 32

  # Reject secrets with known weak patterns
  reject_patterns:
    - "password"
    - "secret"
    - "123456"
    - "test"
    - "default"
    - "grid_dev_password"
    - "CHANGE_ME_IN_PRODUCTION"

  # Production requirements
  production:
    require_cloud_provider: true
    allow_environment_fallback: false
    min_entropy_ratio: 0.5

# Audit Configuration
audit:
  retention_days: 30
  storage:
    type: "cloud_logging"  # Send to Google Cloud Logging
    log_name: "grid-security-audit"
    project_id: ""  # Set via GOOGLE_CLOUD_PROJECT
  encryption:
    kms_key_name: "grid-production-audit-encryption"

# Data Classification
data_classification:
  wealth_management: "PERSONAL_CONFIDENTIAL"
  pencil_notes: "PERSONAL_CONFIDENTIAL"
  user_data: "PERSONAL_CONFIDENTIAL"
  financial_data: "PERSONAL_CONFIDENTIAL"
